services:
  prueba-webflux:
    image: prueba-webflux:local
    # Para construir aqu√≠ en lugar de usar la imagen ya creada, descomentar:
    # build:
    #   context: .
    #   dockerfile: Dockerfile
    container_name: prueba-webflux
    ports:
      - "8080:8080"
    environment:
      #  dentro del contenedor "localhost" es el contenedor, para acceder a tu MySQL local usa host.docker.internal en Windows
      SPRING_R2DBC_URL: r2dbc:mysql://host.docker.internal:3306/prueba_db
      SPRING_R2DBC_USERNAME: root
      SPRING_R2DBC_PASSWORD: root
      SERVER_PORT: 8080
    restart: unless-stopped

